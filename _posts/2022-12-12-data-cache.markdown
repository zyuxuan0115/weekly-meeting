---
layout: post
title:  "2022-12-12 data cache"
date:   2022-12-5 10:53:46 -0500
categories: data-cache 
---

|    pagerank   | prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup |
| :----:        |    :----:							|   :----:			| :----: |  :----: |  :----: |  :----: |
| <strong>web-Google</strong><br>Vertices:916428<br> Degree:456     |     32   | 29.899289(32)<br>28.906600(32)<br>28.819703(32)<br>29.006986(32)<br>29.161289(32) | 20.804068(32)<br>20.862082(32)<br>20.766731(32)<br>21.001575(32)<br>21.302885(32)| 28.16%<br> |
| <strong>web-BerkStan</strong><br>Vertices:685231<br> Degree:249   |    234x3<br>237<br>231   | 13.734723(237)<br>13.583152(234)<br>13.818474(234)<br>13.873286(234)<br>13.946716(231) | 8.970430(237)<br>8.749127(234)<br>8.879961(234)<br>8.823190(234)<br>8.828055(231) | 35.838% |
| <strong>web-Stanford</strong><br>Vertices:281904<br> Degree:255    | 212<br>205<br>185<br>32x4   | 5.176777(212)<br>5.032269(205)<br>5.041926(185)<br>5.147700(32)<br>5.135883(32)<br>5.201475(32)<br>5.140363(32) | 3.113612(212)<br>3.036380(205)<br>3.048690(185)<br>2.952322(32)<br>2.952870(32)<br>2.955477(32)<br>2.956764(32) | 39.685%(200)<br>42.705%(32)|
| <strong>web-NotreDame</strong><br>Vertices:325729<br> Degree:3445   | 32x4<br>190x2<br>150   | 10.278070(32)<br>10.366384(32)<br>10.318248(32)<br>10.291323(32)<br>10.060439(190)<br>10.401188(190)<br>10.092987(150)| 8.291560(32)<br>8.160605(32)<br>8.290371(32)<br>8.194220(32)<br>8.014428(190)<br>8.122975(190)<br>8.171565(150)| 20.161%(32)<br>20.441%(150+)|
| <strong>roadNet-PA</strong><br>Vertices:1090920<br> Degree:9   | 32   | 21.585450(32)<br>21.556787(32)<br>20.167020(32)<br>20.176205(32)<br>20.513408(32) | 13.722496(32)<br>13.392380(32)<br>12.970168(32)<br>12.765780(32)<br>13.223683(32) | 37.129% |
| <strong>roadNet-CA</strong><br>Vertices:1971281<br> Degree:12  |  296<br>347<br>32x4  | 39.372540(296)<br>39.675003(347)<br>42.202213(32)<br>40.789358(32)<br>39.423965(32)<br>39.596660(32) | 27.626210(296)<br>27.676888(347)<br>27.141911(32)<br>26.565268(32)<br>27.210036(32)<br>26.928825(32) | 33.433%(32)<br>30.038%(296) | 



|    pagerank<br>([20:][5,15])   | prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup |
| :----:        |    :----:							|   :----:			| :----: |  :----: |  :----: |  :----: |
| <strong>web-Google</strong><br>Vertices:916428<br> Degree:456     |  107<br>82<br>141<br>75<br>95  | 29.571503(107)<br>28.814451(82)<br>29.039713(141)<br>29.683625(75)<br>29.248524(95) | 21.171014(107)<br>21.151259(82)<br>20.738358(141)<br>21.211768(75)<br>21.156784(95) | 28.648% | 
| <strong>web-BerkStan</strong><br>Vertices:685231<br> Degree:249    |  5x2<br>6<br>4<br>7  | 13.910013(5)<br>13.976824(6)<br>13.991151(5)<br>13.976214(4)<br>13.874109(7) | 11.359223(5)<br>10.893891(6)<br>11.378976(5)<br>11.794827(4)<br>10.467014(7) | 19.84% |
| <strong>web-Stanford</strong><br>Vertices:281904<br> Degree:255     |  43<br>64<br>46<br>45x2  | 5.071551(43)<br>5.054031(64)<br>5.030575(46)<br>4.998892(45)<br>4.951986(45) | 2.897825(43)<br>2.848110(64)<br>2.898914(46)<br>2.856269(45)<br>2.883441(45) | 42.707% | 
| <strong>web-NotreDame</strong><br>Vertices:325729<br> Degree:3445   | 85<br>71<br>67<br>101<br>107<br>73 |10.308179(85)<br>10.437574(71)<br>10.335972(67)<br>10.378235(101)<br>9.945183(107)<br>10.390319(73)| 8.232225(85)<br>8.276260(71)<br>8.258278(67)<br>8.368134(101)<br>8.012450(107)<br>8.167111(73)| 20.588%(70)<br> |
| <strong>roadNet-PA</strong><br>Vertices:1090920<br> Degree:9   | 62<br>63<br>83<br>102<br>79   | 20.585552(62)<br>20.694978(63)<br>20.380082(83)<br>20.762681(102)<br>20.281646(79) | 13.260643(62)<br>13.357712(63)<br>13.270489(83)<br>13.774247(102)<br>13.214693(79) | 34.884% |
| <strong>roadNet-CA</strong><br>Vertices:1971281<br> Degree:12  | 177<br>63<br>100<br>81<br>73   | 40.354689(177)<br>40.901820(63)<br>40.773215(100)<br>41.126592(81)<br>40.298437(73) | 27.933310(177)<br>27.099066(63)<br>27.324560(100)<br>27.239035(81)<br>26.302358(73) | 33.381% |



synthetic workloads for pagerank.

|    pagerank<br>   |  prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup |
| :----:        |    :----:							|   :----:			| :----: |  :----: |  :----: |  :----: |
| Vertices:200000<br> Degree:200 |  32x4<br>235 | 13.538791(32)<br>13.517384(32)<br>13.179158(32)<br>13.215739(32)<br>13.273866(235) | 13.428654(32)<br>13.452878(32)<br>12.988537(32)<br>13.176782(32)<br>13.013297(235) | 0.756%(32)<br>1.963%(235)|


|    pagerank<br>([20:][5,15])   |  prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup |
| :----:        |    :----:							|   :----:			| :----: |  :----: |  :----: |  :----: |
| Vertices:200000<br> Degree:200 |  182<br>141<br>120<br>167<br>101 | 13.051599(182)<br>13.353129(141)<br>13.442306(120)<br>13.469791(167)<br>13.384551(101) | 13.028119(182)<br>13.406983(141)<br>13.277799(120)<br>13.349196(167)<br>13.258522(101) | 0.203% |


The [explanation](https://stackoverflow.com/questions/22813512/continuous-wavelet-transform-with-scipy-signal-python-what-is-parameter-widt) of the `widths` of [scipy.signal.find_peaks_cw](https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.find_peaks_cwt.html)

[Wavelet Transformation](https://zhuanlan.zhihu.com/p/22450818)

![wavelet1](/assets/2022-12-12/wavelet1.png)
![wavelet3](/assets/2022-12-12/wavelet3.png)


|    bc   | prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup | 
| :----:        |    :----:							|   :----:			| :----: | :----: |  :----: |
| Vertices:56384<br> Degree:8  |     32x5<br>2004<br>1951   | 78.197884(32)<br>77.895855(32)<br>78.074177(32)<br>78.920343(32)<br>81.451345(32)<br>79.119448(2004)<br>79.795526(1951) | 67.574543(32)<br>67.412499(32)<br>67.127531(32)<br>67.846038(32)<br>69.158621(32)<br>78.382337(2004)<br>74.711875(1951) | 14.047%(32)<br>3.663%(2000) |
| Vertices:40000<br> Degree:10  |   32   | 47.212300(32)<br>47.383155(32)<br>47.279665(1185)<br>48.478178(32)<br>47.527180(32) | 42.218670(32)<br>42.056944(32)<br>44.820932(1185)<br>42.195524(32)<br>41.896053(32) | 11.665%(32)<br>5.2%(1185) |
| Vertices:20000<br> Degree:50  |    32   | 24.151465(32)<br>24.010671(32)<br>24.214636(32)<br>24.009164(32)<br>24.003759(642) | 23.262613(32)<br>23.017122(32)<br>23.164027(32)<br>22.992478(32)<br>23.169104(642)| 4.098%(32)<br>3.477%(642) |
| Vertices:20000<br> Degree:100  |   467<br>456<br>506<br>443<br>483   |41.527720(467)<br>41.399529(456)<br>41.753334(506)<br>41.473342(443)<br>41.677791(483) | 72.221025(467)<br>71.523556(456)<br>71.569752(506)<br>71.800227(443)<br>71.644434(483)| -72.619% |
 | Vertices:20000<br> Degree:200  |  32   |86.797034(32)<br>85.867522(32)<br>86.136966(32)<br>86.431068(32)<br>86.942206(32) | 121.898140(32)<br>122.466065(32)<br>133.931805(32)<br>124.171229(32)<br>124.245491(32)| -45.014% |
| Vertices:10000<br> Degree:500  |   371<br>466<br>415<br>443<br>450<br>32x2   | 50.337(371)<br>50.283521(466)<br>50.007282(415)<br>49.613216(443)<br>49.976438(450)<br>49.980702(32)<br>49.825(32) | 89.602(371)<br>88.117181(466)<br>89.360649(415)<br>91.218368(443)<br>89.325455(450)<br>73.102367(32)<br>72.573(32) |  -78.893%(400)<br>-45.959%(32) |
| Vertices:10000<br> Degree:1000  |  278<br>279<br>293  | 102.086(313)<br>102.650(299) |  174.034(313)<br>171.788(299)   |



|    bc<br>([20:][5,15])   | prefetch dist | execution time <br> original | execution time <br> optimized | average<br> speedup |
| :----:        |    :----:							|   :----:			| :----: | :----: |  :----: |
| Vertices:56384<br> Degree:8   | 34x2<br>42<br>33x2   | 78.199754(34)<br>78.151003(42)<br>78.022885(33)<br>78.027188(33)<br>78.019172(34) | 69.112127(34)<br>68.324169(42)<br>68.909052(33)<br>68.407151(33)<br>68.888245(34) | 11.983% |
| Vertices:40000<br> Degree:10   | 33<br>54<br>35<br>26<br>25   | 47.536527(33)<br>48.172714(54)<br>48.193499(35)<br>47.393341(26)<br>48.094007(25) | 42.006900(33)<br>42.505089(54)<br>42.386368(35)<br>42.382934(26)<br>42.372335(25) | 11.586% |
| Vertices:20000<br> Degree:50  |  32x5  | 24.164577(32)<br>24.156307(32)<br> 23.994197(32)<br>24.028512(32)<br>24.178678(32) | 23.113299(32)<br>23.135452(32)<br>22.974000(32)<br>23.073816(32)<br>23.149340(32) | 4.212% |
| Vertices:20000<br> Degree:100   | 56x2<br>29<br>37<br>40  | 41.554468(56)<br>41.645862(56)<br>41.904368(29)<br>41.718709(37)<br>41.679466(40) | 58.572714(56)<br>58.507013(56)<br>58.417819(29)<br>59.457964(37)<br>58.599904(40) | -40.792% |
| Vertices:20000<br> Degree:200   |  60<br>23<br>34 | 49.495485(60)<br>49.846660(23)<br>50.012467(34) | 76.172428(60)<br>73.571933(23)<br> (34) |
| Vertices:10000<br> Degree:500   |   |  |  | 
| Vertices:10000<br> Degree:1000   |    |  |     |

